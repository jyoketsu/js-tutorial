## 7.4.4 使客户端实现跨域通信 -JSONP-
&emsp;&emsp;正如之前所说的，在Ajax（或者说是XMLHttpRequest对象）中，因为安全性等理由，限制了跨源通信。也就是说在原则上，JavaScript的代码不可以直接和不同网站上提供的服务进行通信。<br>
&emsp;&emsp;因此，在同一个域的服务器中架设用来访问外部服务的应用（代理），采取「客户端通过代理来访问外部服务」这样的方法。这个是之前介绍的例子。
##### 【404页】
![image](../../images/c7/スクリーンショット&#32;2019-04-16&#32;午前10.40.05.png)
> 同一个域  
> PHP等  
> proxy（代理）  
> ①调用服务器端的代码  
> 客户端  
> ②在服务器端执行外部服务  
> 不同的域  
> 不能访问不同的域

**●访问外部的服务（通过代理）**

&emsp;&emsp;但是，只是访问外部的服务就要准备服务器端的代码会很麻烦。因此，这里我们考虑JSONP（JSON with Padding）。JSONP一句话来说就是利用

如果是`<script>`元素就可以读取外部服务器的脚本

的结构。虽然有各种绕过跨源的方法，而JSONP也是这些经典的方法之一。
![image](../../images/c7/スクリーンショット&#32;2019-04-16&#32;午前10.48.52.png)
> PHP等  
> 不需要代理  
> 如果是`<script>`元素，则可以跨域通信  
> 客户端  
> 点击按钮  
> ①触发事件时，生成下载外部脚本的`<script>`元素  
> ……处理结果的代码……  
> 不同的域  
> ②通过`<script>`元素执行外部服务  
> 返回值  
> 返回值是「回调函数名(JSON数据)」的JavaScript代码  
> ③根据返回值（函数调用的代码）调用客户端的函数

**●JSONP（JSON with Padding）**
##### 【405页】

&emsp;&emsp;
●／・■→×÷※
①②③④⑤

7.4.5 根据跨文档通信的跨域通信
7.5 简单显示异步处理 -Promise对象-
7.5.1 掌握Promise对象的基础
7.5.2 连接异步处理
7.5.3 使多个异步处理并行
7.6 在后台运行JavaScript的代码 -Web Worker-
7.6.1 实现worker线程
7.6.2 启动worker线程

原文|译文|备注
:--|:--|:--