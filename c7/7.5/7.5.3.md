## 7.5.3 使多个异步处理并行 ES2015
&emsp;&emsp;在上一项中，我们学习了连接多个异步处理的方法。在这一项中，将介绍并列执行多个异步处理的方法。
##### 【415页】
**■在所有的异步处理成功之后回调 -all方法-**<br>
&emsp;&emsp;使用Promise.all方法可以并别执行多个异步处理，并在这些异步处理都成功之后执行相应的处理。

**●清单7-34 promise_all.js**
![image](../../images/c7/スクリーンショット&#32;2019-04-18&#32;午前11.54.54.png)
> '徳治郎'  
> '任三郎'  
> '玲玲'  
> 错误：  
> // 结果：["输入值：徳治郎", "输入值：任三郎", "输入值：玲玲"]

&emsp;&emsp;Promise.all方法的语法如下。

**●语法 Promise.all方法**
![image](../../images/c7/スクリーンショット&#32;2019-04-18&#32;午前11.58.08.png)
> promises：监听的Promise对象群（数组）

&emsp;&emsp;在Promise.all方法中，只有参数promises中所有的Promise对象都为resolve（成功）时，才会执行then方法中的成功回调函数（①）。请注意，这时参数response是所有Promise对象结果值的数组。<br>
&emsp;&emsp;任意一个Promise对象为reject（失败）时，就会调用失败回调函数（②）。试着将任何一个asyncProcess函数（③）的参数设为空，可以看到返回了「错误：输入值为空」这样的结果。

**■异步处理中的某1个完成了就回调 -race方法-**<br>
&emsp;&emsp;Promise.race方法是只要并行执行的异步处理中的某一个率先完成了就调用成功回调函数。下面的结果，会根据哪一个asyncProcess函数率先完成而变化。

**●清单7-35 promise_race.js**
![image](../../images/c7/スクリーンショット&#32;2019-04-18&#32;午後9.35.53.png)
![image](../../images/c7/スクリーンショット&#32;2019-04-18&#32;午後9.36.05.png)
> '徳治郎'  
> '任三郎'  
> '玲玲'  
> 错误：  
> // 结果：输入值：徳治郎（结果可能会变化）