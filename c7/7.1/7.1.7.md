## 7.1.7 给应用实施跨浏览器策略 -navigator对象-
&emsp;&emsp;使用JavaScript进行客户端网站开发时，不得不考虑浏览器份额。开发／测试应用时，需要支持的浏览器在很大程度上决定了开发的工数。<br>
&emsp;&emsp;关于浏览器份额，有「StatCounter Global Stats」（http://gs.statcounter.com/） 这样的页面。可以将其作为应用开发时的参考之一。
![image](../../images/c7/スクリーンショット&#32;2019-04-10&#32;午前10.38.51.png)
**●2016年7月的桌面浏览器的份额（来源：StatCounter）**

&emsp;&emsp;那么，在决定了要支持的浏览器之后，为了使应用在每个浏览器环境中都同样运行，需要实施相应的对策。近年来，虽然在不断标准化，但是即使是同样的对象，在不同的浏览器中的动作也有细微的差异。我们将这样的对策称为跨浏览器策略。
##### 【367页】
&emsp;&emsp;跨浏览器策略主要有下面这些方法。
- 根据浏览器的种类／版本而写不同的代码
- 根据有没有特定的功能来写不同的代码

**■根据浏览器的种类／版本来判断**<br>
&emsp;&emsp;用来识别浏览器的种类／版本等客户端的种类的信息称为用户代理（User-Agent）。用户代理可以使用navigator对象的userAgent属性来获取。<br>
&emsp;&emsp;下面是主要浏览器的用户代理。另外，请注意，用户代理根据使用的平台和版本的不同会有细微的差异。
![image](../../images/c7/スクリーンショット&#32;2019-04-10&#32;午前11.26.12.png)
> 浏览器 用户代理

**●主要浏览器的用户代理（示例）**

&emsp;&emsp;下面的代码是使用userAgent属性来判断现在使用的是否是Google Chrome。

**●清单7-07 navigator.js**
![image](../../images/c7/スクリーンショット&#32;2019-04-10&#32;午前11.46.51.png)
> ...中间省略...  
> // 结果：true（使用Google Chrome访问时）

&emsp;&emsp;这是因为用户代理中有「chrome」这个字符串并且没有「edge／opr」。因为Micorsoft Edge和Opera的用户代理中也有「chrome」这个字符串，所以后半部分的条件需要将其移除掉。<br>
##### 【368页】
&emsp;&emsp;其他的判断也在同一个文件中，详情请参考示例文件navigator.js。另外，需要特别注意的是Internet Explorer的判断。这是因为从版本11开始移除了字符串「msie」。因此，要判断Internet Explorer 11 需要查看是否存在「trident/7」这个字符串。

**Note Navigator对象的主要成员**<br>




●／・■→×÷
①②③④

7.2 输出调试信息 -Console对象-
7.2.1 在控制台中输出日志
7.2.2 需要了解的方便的日志方法
7.3 保存用户数据 -Storage对象-
7.3.1 在本地存储中保存／获取数据
7.3.2 删除现有的数据
7.3.3 从本地存储中获取所有的数据
7.3.4 将对象保存到本地存储中／从本地存储中获取对象
7.3.5 监视本地存储的变更
7.4 联动服务器实现丰富的UI -Ajax-
7.4.1 将Ajax的Hello, World和PHP的Hello, World相比较
7.4.2 实现Ajax应用的基础
7.4.3 在Ajax应用中操作结构化数据
7.4.4 使客户端实现跨域通信 -JSONP-
7.4.5 根据跨文档通信的跨域通信
7.5 简单显示异步处理 -Promise对象-
7.5.1 掌握Promise对象的基础
7.5.2 连接异步处理
7.5.3 使多个异步处理并行
7.6 在后台运行JavaScript的代码 -Web Worker-
7.6.1 实现worker线程
7.6.2 启动worker线程