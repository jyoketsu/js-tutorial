## 6.7.2 获取事件相关的信息 -事件对象-
&emsp;&emsp;事件监听器／事件处理器，通过参数接收事件对象。在事件监听器／事件处理器中，通过访问事件对象的属性，可以获取事件发生时的各种信息。
##### 【342页】
![image](../../images/c6/スクリーンショット&#32;2019-04-06&#32;午後3.24.29.png)
> JavaScript完全学习教程  
> 包含所有事件发生时的信息  
> 事件对象e  
> 信息 值  
> 鼠标的坐标  (195,199)  
> 事件的种类  鼠标移动了  
> 其他数据  ...  
> 现在的元素  `<div>`元素  
> 自动设定  
> 事件处理  
> 在事件监听器／事件处理器中可以使用变量e来访问

**●什么是事件对象**

**■事件对象的基础**<br>
&emsp;&emsp;首先，我们来看下具体的示例吧。下面是点击按钮时，将事件的发生源／种类／发生日期输出到日志中的例子。

**●清单6-42 event.html（上）／event.js（下）**
![image](../../images/c6/スクリーンショット&#32;2019-04-06&#32;午後3.35.12.png)
> "点击"  
> '发生源：'  
> '种类：'  
> 发生源：  
> 种类：

&emsp;&emsp;要接受事件对象，只需要在事件监听器中设定参数就可以了。参数名通常使用惯例表示事件的「e」「ev」。没有使用事件对象时，也可以省略参数（目前为止的例子中，都忽略了事件对象）。
##### 【343页】
&emsp;&emsp;事件对象中可以使用的成员如下表所示。
![image](../../images/c6/スクリーンショット&#32;2019-04-06&#32;午後3.42.46.png)
> 分类 成员 概要  
> 通用  
> 事件是否是冒泡类型  
> 事件是否可以取消  
> 使用事件冒泡获取当前的元素  
> 是否调用了preventDefault方法  
> 事件流当前属于哪一阶段  
> 触发该事件的节点  
> 事件的种类（click、mouseover等）  
> 获取事件的发生日期  
> 坐标  
> 事件发生时的坐标（在浏览器中的X坐标）  
> 事件发生时的坐标（在浏览器中的Y坐标）  
> 事件发生时的坐标（在屏幕上的X坐标）  
> 事件发生时的坐标（在屏幕上的Y坐标）  
> 事件发生时的坐标（在页面中的X坐标）  
> 事件发生时的坐标（在页面中的Y坐标）  
> 事件发生时的坐标（在元素中的X坐标）  
> 事件发生时的坐标（在元素中的Y坐标）  
> 键盘／鼠标  
> 鼠标的哪个键被按下了  
> 按钮的种类 返回值 左键 右键 中键  
> 按下的键的值  
> 按下的键的键值  
> 是否按下了Alt键  
> 是否按下了Ctrl键  
> 是否按下了Shift键  
> 是否按下了Meta键

**●事件对象的主要成员**

&emsp;&emsp;事件对象中可以访问的成员，会根据发生的事件而产生变化。<br>
&emsp;&emsp;例如在storage事件监听器（7.3.5）中，可以通过事件对象访问本地存储操作相关的信息（变更前后的值、变更的存储区域等）。<br>
&emsp;&emsp;此外，关于事件对象的主要用法，我们通过具体的例子来说明。

**■获取事件发生时的鼠标信息**<br>
&emsp;&emsp;使用xxxxxX／xxxxxY属性，可以获取click／mousemove等事件发生时的鼠标坐标。<br>
&emsp;&emsp;下面是具体的代码。显示在某个区域内移动鼠标时的坐标。
##### 【344页】
**●6-43 event_xy.html（上）／event_xy.js（下）**
![image](../../images/c6/スクリーンショット&#32;2019-04-06&#32;午後5.33.13.png)
> JavaScript完全学习教程  

**●显示在`<div id="main">`元素中移动鼠标时的坐标**

&emsp;&emsp;各个坐标在以什么为基点上有所差异。

属性|概要
:--|:--
screenX／screenY|屏幕上的坐标
pageX／pageY|页面上的坐标
clientX／clientY|显示区域上的坐标
offsetX／offsetY|元素区域上的坐标
**●事件对象中的坐标相关属性**
##### 【345页】
![image](../../images/c6/スクリーンショット&#32;2019-04-06&#32;午後5.41.54.png)
> 元素  
> 浏览器的显示区域  
> 页面整体  
> 屏幕（桌面）  

**●坐标相关的属性**

**■获取事件发生时的按键信息**<br>
&emsp;&emsp;在keypress／keydown等键盘事件中，可以获取按下的键的种类。

**●清单6-44 event_key.html（上）／event_keys.js（下）**
![image](../../images/c6/スクリーンショット&#32;2019-04-06&#32;午後5.46.13.png)
> 按键：  
> '键值：'

&emsp;&emsp;在这个例子中只是使用keyCode属性来输出按下的键值，但是在实际的应用中会根据按下的键来执行各种动作。另外，使用altKey、shiftKey等属性，可以通过true／false来得到特定的按键是否被按下。
